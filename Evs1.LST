A51 MACRO ASSEMBLER  EVS1                                                                 09/11/2023 11:39:46 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN Evs1.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE Evs1.a51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;F(X3,X2,X1,X0) == 1 <=> 1,4,6,8,9,11,14
0000                   2     ORG 0000h;
  0011                 3     BASEADDRESS EQU 11h
  0004                 4     RELATIVEADDRESS EQU 04h
0000 020003            5     LJMP MAIN
                       6     ;ORG 5000h
0003                   7     MAIN:
                       8     ;MOV P0, #0FFh
  00C0                 9     P4 EQU 0C0h
0003 7452             10     MOV A,  #01010010b
0005 908000           11     MOV DPTR, #8000h
0008 F0               12     MOVX  @DPTR, A          ;0-7 truth table in ex memory
0009 908001           13     MOV DPTR, #8001h
000C 744B             14     MOV A,  #01001011b
000E F0               15     MOVX  @DPTR, A          ;8-15 truth table in ex memory
000F C2C0             16     CLR P4.0;
0011 D2C1             17     SETB P4.1;
0013                  18     MET1:
0013 907FFB           19     MOV DPTR,#7FFBh ;adres flaga gotovnosti
0016                  20     gotovnost:              ;check flag gotovnost
0016 E0               21     MOVX A,@DPTR    ;read flag
0017 5401             22     ANL A,#01h              ;vibor 0 bita
0019 60FB             23     JZ gotovnost
001B 907FFA           24     MOV DPTR,#7FFAh ;adres nomera nabora
001E E0               25     MOVX A,@DPTR    ;zapis v A nomera nabora
001F F520             26     MOV 20h, A              ;peremenniye nabora v 0, 1, 2, 3 biti pamyati
                      27     ; F(x3,x2,x1,x0) = ^x0 & x2 & x1 v ^x3 & ^x0 & x2 v ^x2 & ^x1 & x0 v x3 & ^x2 & (x0 v ^x1)
                      28     ;X3 - 3, X2 - 2, X1 - 1, X0 - 0
                      29     
0021 A2E0             30     MOV C, ACC.0 ;C = X0
0023 B3               31     CPL C;C = ^X0
0024 82E2             32     ANL C, ACC.2; C = ^X0 & X2
0026 82E1             33     ANL C, ACC.1; C = ^X0 & X2 & X1
0028 9204             34     MOV 20h.4, C; 03 = ^X0 & X2 & X1 -- 1
                      35     
002A A2E3             36     MOV C, ACC.3;C = X3
002C 72E0             37     ORL C, ACC.0; C = X3 V X0
002E B3               38     CPL C; C = ^X3 & ^X0
002F 82E2             39     ANL C, ACC.2; C = ^X3 & ^X0 & X2
0031 7204             40     ORL C, 20h.4; C = ^x0 & x2 & x1 v ^x3 & ^x0 & x2
0033 9204             41     MOV 20h.4, C; 03 = ^x0 & x2 & x1 v ^x3 & ^x0 & x2 -- 2
                      42     
0035 A2E2             43     MOV C, ACC.2;C = X2
0037 72E1             44     ORL C, ACC.1; C = X2 V X1
0039 B3               45     CPL C; C = ^X2 & ^X1
003A 82E0             46     ANL C, ACC.0; C = ^X2 & ^X1 & X0
003C 7204             47     ORL C, 20h.4; C = ^x0 & x2 & x1 v ^x3 & ^x0 & x2 v ^x2 & ^x1 & x0
003E 9204             48     MOV 20h.4, C; 03 = ^x0 & x2 & x1 v ^x3 & ^x0 & x2 v ^x2 & ^x1 & x0 -- 4
                      49     
0040 A2E1             50     MOV C, ACC.1; C = X1
0042 B3               51     CPL C; C = ^X1
0043 72E0             52     ORL C, ACC.0; C = X0 V ^X1
0045 B3               53     CPL C; C = ^X0 & X1
0046 72E2             54     ORL C, ACC.2; C = X2 V (^X0 & X1)
0048 B3               55     CPL C; C = ^X2 & (X0 V ^X1)
0049 82E3             56     ANL C, ACC.3; C = X3 & ^X2 & (X0 V ^X1)
004B 7204             57     ORL C, 20h.4; C = ^x0 & x2 & x1 v ^x3 & ^x0 & x2 v ^x2 & ^x1 & x0 v x3 & ^x2 & (x0 v ^x1)
004D 92C0             58     MOV     P4.0,C  ;res:=F
A51 MACRO ASSEMBLER  EVS1                                                                 09/11/2023 11:39:46 PAGE     2

                      59     ; zagruzka etalona
004F 20030C           60     JB 3, SECOND    ;esli nabor >7
0052 908000           61     MOV DPTR, #8000h;
                      62     ; -- MY ADDITION
0055 E0               63     MOVX A, @DPTR
0056 8520F0           64     MOV B, 20h
0059 53F007           65     ANL B, #00000111b
                      66     ;--------
005C 0168             67     AJMP NEXT;
005E                  68     SECOND:
005E 908001           69     MOV DPTR, #8001h;
                      70     ;-- MY ADDITION
0061 E0               71     MOVX A, @DPTR
0062 8520F0           72     MOV B, 20h
0065 53F00F           73     ANL B, #00001111b
                      74     ; -------------
0068                  75     NEXT:
                      76     ;MOVX A, @DPTR  ; A = half of truth table
                      77     ;MOV B, 20h;
                      78     ;ANL B, #00000111b; zapis v B 3 mladshih bita;
0068 C5F0             79     XCH A, B                ; A = schetchik
006A 6006             80     JZ END_OF_CYCLE ; if count = 0
006C C5F0             81     XCH A, B                ; A = half of truth table, B = count
006E                  82     cycle:
006E 03               83     RR A;
006F D5F0FC           84     DJNZ B, cycle;
0072                  85     END_OF_CYCLE:
0072 F5F0             86     MOV B, A;
0074 A2F0             87     MOV C, B.0              ;bit iz tablici
0076 B3               88     CPL C                   ; it inverted
0077 92C1             89     MOV P4.1, C             ; P4.1 = inverted bit iz tablici
0079 907FFB           90     MOV DPTR,#7FFBh
007C E500             91     MOV A, 00h
007E 0113             92     AJMP MET1;
                      93     END
A51 MACRO ASSEMBLER  EVS1                                                                 09/11/2023 11:39:46 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ACC. . . . . . . .  D ADDR   00E0H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BASEADDRESS. . . .  N NUMB   0011H   A   
CYCLE. . . . . . .  C ADDR   006EH   A   
END_OF_CYCLE . . .  C ADDR   0072H   A   
GOTOVNOST. . . . .  C ADDR   0016H   A   
MAIN . . . . . . .  C ADDR   0003H   A   
MET1 . . . . . . .  C ADDR   0013H   A   
NEXT . . . . . . .  C ADDR   0068H   A   
P4 . . . . . . . .  N NUMB   00C0H   A   
RELATIVEADDRESS. .  N NUMB   0004H   A   
SECOND . . . . . .  C ADDR   005EH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
